
$features-block-margins: (
  null: (70px, 0, 80px, 0),
  small: (150px, 0, 160px, 0),
  medium: (150px, 0, 160px, 0),
);

.features-block {
  @include element-indent($features-block-margins, 'margin');

  .flex-inner {
    &__item {
      position: relative;
      height: 0;
      width: 100%;
      padding-bottom: 87.5%;
      margin: 0 0 30px 0;
      border-radius: $main-border-radius;
      background-color: #fff;
      box-shadow: $main-box-shadow;

      img {
        position: absolute;
        width: 100%;
        height: 100%;
        object-fit: contain;
      }

      &:nth-child(2n) {
        margin-right: 0;
      }

      &:last-child {
        margin-bottom: 0;
      }
    }
  }
}

@media (min-width: 768px) {
  .features-block {
    .flex-inner {
      &__item {
        width: calc(50% - 15px);
        padding-bottom: calc(43.75% - 15px);
        margin: 0 30px 30px 0;

        &:nth-child(2n) {
          margin-right: 0;
        }

        &:nth-last-child(2) {
          margin-bottom: 0;
        }
      }
    }
  }
}

@media (min-width: 992px) {
  .features-block {
    .flex-inner {
      &__item {
        width: calc(33.33% - 20px);
        padding-bottom: calc(28.88% - 20px);
        margin: 0 30px 30px 0;

        &:nth-child(2n) {
          margin-right: 30px;
        }

        &:nth-child(3n) {
          margin-right: 0;
        }

        &:nth-last-child(3) {
          margin-bottom: 0;
        }
      }
    }
  }
}
